local WindowTable = {} 
 
function WindowTable:CreateWindow(gamename)
	local UiFrame = Instance.new("ScreenGui")
	local MainFrame = Instance.new("Frame")
	local allPages = Instance.new("Frame")
	local SideBar = Instance.new("Frame")
	local coverCorner = Instance.new("Frame")
	local allTabs = Instance.new("Frame")
	local tabListing = Instance.new("UIListLayout")
	local mainCorner = Instance.new("UICorner")
	local sideCorner = Instance.new("UICorner")
	local mainCorner2 = Instance.new("UICorner")
	local pagesFolder = Instance.new("Folder")
	local Gradient = Instance.new("UIGradient")

	UiFrame.Name = "UiFrame"
	UiFrame.Parent = game.CoreGui

	MainFrame.Name = "MainFrame"
	MainFrame.Parent = UiFrame
	MainFrame.BackgroundColor3 = Color3.new(1, 1, 1)
	MainFrame.BorderColor3 = Color3.new(0.105882, 0.164706, 0.207843)
	MainFrame.BorderSizePixel = 0
	MainFrame.Position = UDim2.new(0.119326502, 0, 0.64973259, 0)
	MainFrame.Size = UDim2.new(0, 430, 0, 260)
	
	Gradient.Parent = MainFrame
	Gradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.new(0.215686, 0.807843, 0.87451)),
	ColorSequenceKeypoint.new(1, Color3.new(0.356863, 0.533333, 0.898039))
	}

	mainCorner.Parent = MainFrame
	mainCorner.CornerRadius = UDim.new(0, 3)

	allPages.Name = "allPages"
	allPages.Parent = MainFrame
	allPages.BackgroundColor3 = Color3.new(0.490196, 0.796078, 1)
	allPages.Position = UDim2.new(0.274418592, 0, 0.0269230772, 0)
	allPages.Size = UDim2.new(0, 306, 0, 245)
	
	pagesFolder.Parent = allPages
	pagesFolder.Name = "pagesFolder"

	mainCorner2.Parent = allPages
	mainCorner2.CornerRadius = UDim.new(0, 3)

	SideBar.Name = "SideBar"
	SideBar.Parent = MainFrame
	SideBar.BackgroundColor3 = Color3.new(0.490196, 0.796079, 1)
	SideBar.BorderSizePixel = 0
	SideBar.Size = UDim2.new(0, 110, 0, 260)

	sideCorner.Parent = SideBar
	sideCorner.CornerRadius = UDim.new(0, 3)

	coverCorner.Name = "coverCorner"
	coverCorner.Parent = SideBar
	coverCorner.BackgroundColor3 = Color3.new(0.490196, 0.796079, 1)
	coverCorner.BorderSizePixel = 0
	coverCorner.Position = UDim2.new(0.943925261, 0, 0, 0)
	coverCorner.Size = UDim2.new(0, 6, 0, 260)

	allTabs.Name = "allTabs"
	allTabs.Parent = SideBar
	allTabs.BackgroundColor3 = Color3.new(1, 1, 1)
	allTabs.BackgroundTransparency = 1
	allTabs.Position = UDim2.new(0.0500000007, 0, 0.0299999993, 0)
	allTabs.Size = UDim2.new(0, 98, 0, 246)

	tabListing.Name = "tabListing"
	tabListing.Parent = allTabs
	tabListing.SortOrder = Enum.SortOrder.LayoutOrder
	tabListing.Padding = UDim.new(0, 2)
	
	local TextLabel = Instance.new("TextLabel")
	local TextLabel_2 = Instance.new("TextLabel")

	TextLabel.Parent = game.StarterGui.UiFrame.MainFrame.SideBar
	TextLabel.BackgroundColor3 = Color3.new(1, 1, 1)
	TextLabel.BackgroundTransparency = 1
	TextLabel.Position = UDim2.new(0, 0, 0.873076916, 0)
	TextLabel.Size = UDim2.new(0, 109, 0, 13)
	TextLabel.Font = Enum.Font.GothamBold
	TextLabel.Text = "'MOGUS HUB"
	TextLabel.TextColor3 = Color3.new(1, 1, 1)
	TextLabel.TextSize = 15
	TextLabel.TextWrapped = true

	TextLabel_2.Parent = game.StarterGui.UiFrame.MainFrame.SideBar
	TextLabel_2.BackgroundColor3 = Color3.new(1, 1, 1)
	TextLabel_2.BackgroundTransparency = 1
	TextLabel_2.Position = UDim2.new(0, 0, 0.923076928, 0)
	TextLabel_2.Size = UDim2.new(0, 109, 0, 20)
	TextLabel_2.Font = Enum.Font.GothamBold
	TextLabel_2.Text = gamename
	TextLabel_2.TextColor3 = Color3.new(1, 1, 1)
	TextLabel_2.TextSize = 15
	TextLabel_2.TextTransparency = 0.30000001192093
	TextLabel_2.TextWrapped = true

    local TabHandler = {}
    
    function TabHandler:CreateTab(tabname)
        tabname = tabname or "New Tab"
	local tabButton = Instance.new("TextButton")
        local tabCorner = Instance.new("UICorner")
        local newPage = Instance.new("ScrollingFrame") 
        local elementsListing = Instance.new("UIListLayout") 
	
        local elementsPadding = Instance.new("UIPadding")
 
        elementsPadding.Name = "elementsPadding"
        elementsPadding.Parent = newPage
        elementsPadding.PaddingRight = UDim.new(0, 5)
        elementsPadding.PaddingTop = UDim.new(0, 5)
	
	tabButton.Name = "tabButton"
	tabButton.Parent = allTabs
	tabButton.BackgroundColor3 = Color3.new(0.380392, 0.623529, 0.780392)
	tabButton.Size = UDim2.new(0, 99, 0, 25)
	tabButton.Font = Enum.Font.Gotham
	tabButton.Text = tabname
	tabButton.TextColor3 = Color3.new(1, 1, 1)
	tabButton.TextSize = 14
	
	tabButton.MouseButton1Click:Connect(function()
            for i,v in next, pagesFolder:GetChildren() do -- We get all the pages that we added
                v.Visible = false   -- then we make them invisible 
            end 
            newPage.Visible = true  -- We make current page visible but not others
	end)

	local tabCorner = Instance.new("UICorner")

	tabCorner.Parent = tabButton
	tabCorner.Name = "sideCorner"
	tabCorner.CornerRadius = UDim.new(0, 3)
	
	newPage.Name = "newPage"
	newPage.Parent = pagesFolder
	newPage.Active = true
	newPage.BackgroundColor3 = Color3.new(0.490196, 0.796078, 1)
	newPage.BackgroundTransparency = 1
	newPage.BorderSizePixel = 0
	newPage.Size = UDim2.new(1, 0, 1, 0)
	newPage.ScrollBarThickness = 5

	elementsListing.Name = "elementsListing"
	elementsListing.Parent = newPage
	elementsListing.HorizontalAlignment = Enum.HorizontalAlignment.Center
	elementsListing.SortOrder = Enum.SortOrder.LayoutOrder
	elementsListing.Padding = UDim.new(0, 5)
	
        local ElementHandler = {}
        
        function ElementHandler:CreateButton(btnText, callback)
            	btnText = btnText or "Text Button"
            	callback = callback or function() end  
		
		local tabButton = Instance.new("TextButton")
		
		tabButton.Name = "Button"
		tabButton.Parent = newPage
		tabButton.BackgroundColor3 = Color3.new(0.380392, 0.623529, 0.780392)
		tabButton.Position = UDim2.new(0.338235289, 0, 0, 0)
		tabButton.Size = UDim2.new(0, 275, 0, 25)
		tabButton.Font = Enum.Font.Gotham
		tabButton.Text = btnText
		tabButton.TextColor3 = Color3.new(1, 1, 1)
		tabButton.TextSize = 14
		
		tabButton.MouseButton1Click:Connect(function()
			callback()
		end)
		
		local tabCorner = Instance.new("UICorner")

		tabCorner.Parent = tabButton
		tabCorner.CornerRadius = UDim.new(0, 3)
        end
        
        return ElementHandler
    end
    return TabHandler
end
return WindowTable
